{"version":3,"file":"js/42.c92d8999.js","mappings":"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","sources":["webpack://toutiao-m/./src/views/article/Article.vue","webpack://toutiao-m/./src/components/FollowUser.vue","webpack://toutiao-m/src/components/FollowUser.vue","webpack://toutiao-m/./src/components/FollowUser.vue?feb2","webpack://toutiao-m/./src/components/FollowUser.vue?dcf8","webpack://toutiao-m/./src/components/CollectArticle.vue","webpack://toutiao-m/src/components/CollectArticle.vue","webpack://toutiao-m/./src/components/CollectArticle.vue?8628","webpack://toutiao-m/./src/components/CollectArticle.vue?8b3c","webpack://toutiao-m/./src/components/LikeArticle.vue","webpack://toutiao-m/src/components/LikeArticle.vue","webpack://toutiao-m/./src/components/LikeArticle.vue?eb39","webpack://toutiao-m/./src/components/LikeArticle.vue?2c92","webpack://toutiao-m/./src/views/article/components/CommentList.vue","webpack://toutiao-m/./src/views/article/components/CommentItem.vue","webpack://toutiao-m/src/views/article/components/CommentItem.vue","webpack://toutiao-m/./src/views/article/components/CommentItem.vue?a584","webpack://toutiao-m/./src/views/article/components/CommentItem.vue?1861","webpack://toutiao-m/src/views/article/components/CommentList.vue","webpack://toutiao-m/./src/views/article/components/CommentList.vue?02fc","webpack://toutiao-m/./src/views/article/components/CommentList.vue?7e57","webpack://toutiao-m/./src/views/article/components/CommentPost.vue","webpack://toutiao-m/src/views/article/components/CommentPost.vue","webpack://toutiao-m/./src/views/article/components/CommentPost.vue?c23a","webpack://toutiao-m/./src/views/article/components/CommentPost.vue?6c8e","webpack://toutiao-m/./src/views/article/components/CommentReply.vue","webpack://toutiao-m/src/views/article/components/CommentReply.vue","webpack://toutiao-m/./src/views/article/components/CommentReply.vue?a0e8","webpack://toutiao-m/./src/views/article/components/CommentReply.vue?07fd","webpack://toutiao-m/src/views/article/Article.vue","webpack://toutiao-m/./src/views/article/Article.vue?d00d","webpack://toutiao-m/./src/views/article/Article.vue?6b70"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"article-container\"},[_c('van-nav-bar',{attrs:{\"title\":\"黑马头条\",\"left-arrow\":\"\",\"fixed\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}}}),_c('div',{staticClass:\"main-warp\"},[(_vm.loading)?_c('div',{staticClass:\"loading-wrap\"},[_c('van-loading',{attrs:{\"color\":\"#1989fa\",\"vertical\":\"\"}},[_vm._v(\"加载中。。。\")])],1):(_vm.article.title)?_c('div',{staticClass:\"article-detail\"},[_c('h1',{staticClass:\"article-title\"},[_vm._v(_vm._s(_vm.article.title))]),_c('van-cell',{staticClass:\"user-info\",scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('van-image',{staticClass:\"avatar\",attrs:{\"round\":\"\",\"fit\":\"cover\",\"src\":_vm.article.aut_photo}})]},proxy:true},{key:\"title\",fn:function(){return [_c('div',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.article.aut_name))])]},proxy:true},{key:\"label\",fn:function(){return [_c('div',{staticClass:\"publish-date\"},[_vm._v(_vm._s(_vm._f(\"relativeTime\")(_vm.article.pubdate)))])]},proxy:true},{key:\"right-icon\",fn:function(){return [_c('FollowUser',{attrs:{\"userId\":_vm.article.aut_id,\"isFollowed\":_vm.article.is_followed},on:{\"update:isFollowed\":function($event){return _vm.$set(_vm.article, \"is_followed\", $event)},\"update:is-followed\":function($event){return _vm.$set(_vm.article, \"is_followed\", $event)}}})]},proxy:true}])}),_c('div',{ref:\"article-content\",staticClass:\"article-content markdown-body\",domProps:{\"innerHTML\":_vm._s(_vm.article.content)}}),_c('van-divider',[_vm._v(\"正文结束\")]),_c('CommentList',{ref:\"CommentList\",attrs:{\"targetId\":_vm.articleId,\"totalCount\":_vm.totalCommentCount},on:{\"update:totalCount\":function($event){_vm.totalCommentCount=$event},\"update:total-count\":function($event){_vm.totalCommentCount=$event},\"replyClick\":_vm.onReplyClick}})],1):(_vm.errStatus === 404)?_c('div',{staticClass:\"error-wrap\"},[_c('van-icon',{attrs:{\"name\":\"failure\"}}),_c('p',{staticClass:\"text\"},[_vm._v(\"该资源不存在或已删除！\")])],1):_c('div',{staticClass:\"error-wrap\"},[_c('van-icon',{attrs:{\"name\":\"failure\"}}),_c('p',{staticClass:\"text\"},[_vm._v(\"内容加载失败！\")]),_c('van-button',{staticClass:\"retry-btn\",on:{\"click\":_vm.loadArticleInfo}},[_vm._v(\" 点击重试\")])],1)]),_c('div',{staticClass:\"article-bottom\"},[_c('van-button',{staticClass:\"comment-btn\",attrs:{\"round\":\"\",\"size\":\"small\"},on:{\"click\":function($event){_vm.isPostShow = true}}},[_vm._v(\"写评论\")]),_c('van-icon',{attrs:{\"name\":\"comment-o\",\"badge\":_vm.totalCommentCount}}),_c('CollectArticle',{attrs:{\"articleId\":_vm.article.art_id},model:{value:(_vm.article.is_collected),callback:function ($$v) {_vm.$set(_vm.article, \"is_collected\", $$v)},expression:\"article.is_collected\"}}),_c('LikeArticle',{attrs:{\"articleId\":_vm.article.art_id,\"attitude\":_vm.article.attitude},on:{\"update:attitude\":function($event){return _vm.$set(_vm.article, \"attitude\", $event)}}}),_c('van-icon',{attrs:{\"name\":\"share\"}})],1),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.isPostShow),callback:function ($$v) {_vm.isPostShow=$$v},expression:\"isPostShow\"}},[_c('CommentPost',{attrs:{\"targetId\":_vm.article.aut_id},on:{\"post-success\":_vm.onPostSuccess}})],1),_c('van-popup',{style:({ height: '100%' }),attrs:{\"position\":\"bottom\"},model:{value:(_vm.isReplyShow),callback:function ($$v) {_vm.isReplyShow=$$v},expression:\"isReplyShow\"}},[(_vm.isReplyShow)?_c('CommentReply',{attrs:{\"comment\":_vm.currentComment},on:{\"close\":function($event){_vm.isReplyShow = false}}}):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.isFollowed)?_c('van-button',{staticClass:\"follow-btn\",attrs:{\"round\":\"\",\"type\":\"info\",\"size\":\"small\",\"icon\":\"plus\",\"loading\":_vm.btnLoading},on:{\"click\":_vm.onFollow}},[_vm._v(\" 关注 \")]):_c('van-button',{staticClass:\"follow-btn\",attrs:{\"round\":\"\",\"size\":\"small\",\"loading\":_vm.btnLoading},on:{\"click\":_vm.onFollow}},[_vm._v(\" 已关注 \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!--? 通过loading属性,对按钮进行节流操作 -->\r\n  <!--? 我们说过组件的根节点只能有一个,但是虽然下面写了2个根节点但是因为有v-if 和 v-else的逻辑存在, 导致整个业务中不可能下面的两个节点同时存在 -->\r\n\r\n  <!--? 关注状态显示 - 关注  -->\r\n  <van-button\r\n    v-if=\"isFollowed\"\r\n    class=\"follow-btn\"\r\n    round\r\n    type=\"info\"\r\n    size=\"small\"\r\n    icon=\"plus\"\r\n    @click=\"onFollow\"\r\n    :loading=\"btnLoading\"\r\n  >\r\n    关注\r\n  </van-button>\r\n\r\n  <!--? 关注状态显示 - 已关注  -->\r\n  <van-button\r\n    v-else\r\n    class=\"follow-btn\"\r\n    round\r\n    size=\"small\"\r\n    @click=\"onFollow\"\r\n    :loading=\"btnLoading\"\r\n  >\r\n    已关注\r\n  </van-button>\r\n</template>\r\n\r\n<script>\r\nimport { addFollowAPI, deleteFollowAPI } from '../api/index.js'\r\nexport default {\r\n  name: 'FollowUser',\r\n  /*\r\n    如果用v-model传递过来的参数,默认情况下,props使用value来进行接收的\r\n    通过model属性来定义value的接收方式\r\n    通过v-model绑定的变量,有一个默认的时间  input事件,可以通过该事件来实现双向绑定数据的更新\r\n    通过model属性来定义input事件的名称\r\n  */\r\n  // 父组件 Article 对应的方法二  方法三不需在此设置model\r\n  // model: {\r\n  //   prop: 'isFollowed', // 默认为value\r\n  //   event: 'updateFollow' // 默认为input\r\n  // },\r\n  props: {\r\n    isFollowed: { // article.is_followed 显示状态\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    userId: { // article.aut_id 用户id\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      btnLoading: false // 调用接口时的加载状态\r\n    }\r\n  },\r\n  methods: {\r\n    // 取关 关注操作\r\n    async onFollow () {\r\n      this.btnLoading = true // 请求接口前开启\r\n      try {\r\n        // 通过当前的用户关注状态来判断调用哪个接口\r\n        if (this.isFollowed) {\r\n          // 已关注状态 要取消关注\r\n          await deleteFollowAPI(this.userId)\r\n        } else {\r\n          // 未关注状态 要开启关注\r\n          await addFollowAPI(this.userId)\r\n        }\r\n        // 主动的将状态取反\r\n        // this.isFollowed = !this.isFollowed\r\n        // this.$emit('updateFollow', !this.isFollowed) // 方法一 与 方法二 写法\r\n        // @input=\"article.is_followed = $event\"\r\n\r\n        this.$emit('update:isFollowed', !this.isFollowed) // 方法三\r\n      } catch (error) {\r\n        console.log(error)\r\n        if (error.response && error.response.status === 400) {\r\n          this.$toast('你不能关注你自己')\r\n        } else {\r\n          this.$toast('操作失败,请重试')\r\n        }\r\n      }\r\n      setTimeout(() => {\r\n        this.btnLoading = false // 请求执行后关闭\r\n      }, 1000)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FollowUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FollowUser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FollowUser.vue?vue&type=template&id=bd5c1bdc&scoped=true&\"\nimport script from \"./FollowUser.vue?vue&type=script&lang=js&\"\nexport * from \"./FollowUser.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bd5c1bdc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-icon',{class:{ collected:_vm.value },attrs:{\"name\":_vm.value ? 'star': 'star-o',\"loading\":_vm.btnLoading},on:{\"click\":_vm.onCollect}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!--? 文章收藏 -->\r\n  <van-icon\r\n    :name=\"value ? 'star': 'star-o'\"\r\n    :class=\"{ collected:value }\"\r\n    :loading=\"btnLoading\"\r\n    @click=\"onCollect\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nimport { addCollectAPI, deleteCollectAPI } from '../api/index.js'\r\nexport default {\r\n  name: 'CollectArticle',\r\n  /*\r\n    如果用v-model传递过来的参数,默认情况下,props使用value来进行接收的\r\n    通过model属性来定义value的接收方式\r\n    通过v-model绑定的变量,有一个默认的时间  input事件,可以通过该事件来实现双向绑定数据的更新\r\n    通过model属性来定义input事件的名称\r\n  */\r\n  // 父组件 Article 对应的方法二  方法三不需在此设置model\r\n  // model: {\r\n  //   prop: 'isFollowed', // 默认为value\r\n  //   event: 'updateFollow' // 默认为input\r\n  // },\r\n  props: {\r\n    value: { // article.is_collected\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    articleId: { // article.art_id 文章id\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      btnLoading: false // 调用接口时的加载状态\r\n    }\r\n  },\r\n  methods: {\r\n    // 取消添加 收藏操作\r\n    async onCollect () {\r\n      this.btnLoading = true // 请求接口牵开启\r\n      try {\r\n        // 通过当前的用户关注状态来判断调用哪个接口\r\n        if (this.value) {\r\n          // 已关注状态 要取消关注\r\n          await deleteCollectAPI(this.articleId)\r\n        } else {\r\n          // 未关注状态 要开启关注\r\n          await addCollectAPI(this.articleId)\r\n        }\r\n        // 主动的将状态取反\r\n        // this.isFollowed = !this.isFollowed\r\n        // this.$emit('updateFollow', !this.isFollowed) // 方法一 与 方法二 写法\r\n        // @input=\"article.is_followed = $event\"\r\n\r\n        this.$emit('input', !this.value)\r\n      } catch (error) {\r\n        this.$toast('收藏文章失败')\r\n      }\r\n      setTimeout(() => {\r\n        this.btnLoading = false // 请求执行后关闭\r\n      }, 1000)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.collected {\r\n  color: #f70;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CollectArticle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CollectArticle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CollectArticle.vue?vue&type=template&id=d9f91daa&scoped=true&\"\nimport script from \"./CollectArticle.vue?vue&type=script&lang=js&\"\nexport * from \"./CollectArticle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CollectArticle.vue?vue&type=style&index=0&id=d9f91daa&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d9f91daa\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-icon',{class:{collected: _vm.attitude === 1 },attrs:{\"name\":_vm.attitude === 1 ? 'good-job': 'good-job-o',\"loading\":_vm.btnLoading},on:{\"click\":_vm.onCollect}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!--? 文章点赞 -->\r\n  <van-icon\r\n    :name=\"attitude === 1 ? 'good-job': 'good-job-o'\"\r\n    :class=\"{collected: attitude === 1 }\"\r\n    :loading=\"btnLoading\"\r\n    @click=\"onCollect\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nimport { addLikeAPI, deleteLikeAPI } from '../api/index.js'\r\nexport default {\r\n  name: 'LikeArticle',\r\n  props: {\r\n    attitude: { // attitude -1: 无态度   0:不喜欢  1:点赞\r\n      type: Number,\r\n      default: -1\r\n    },\r\n    articleId: { // article.art_id 文章id\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      btnLoading: false // 调用接口时的加载状态\r\n    }\r\n  },\r\n  methods: {\r\n    // 取消添加 点赞操作\r\n    async onCollect () {\r\n      this.btnLoading = true // 请求接口前开启\r\n      let status = this.attitude // 当前点赞状态\r\n      try {\r\n        // 通过当前的用户关注状态来判断调用哪个接口\r\n        if (this.attitude === 1) {\r\n          // 已点赞状态 要取消点赞\r\n          status = -1\r\n          await deleteLikeAPI(this.articleId)\r\n        } else {\r\n          status = 1\r\n          // 未点赞状态 要开启已点赞状态\r\n          await addLikeAPI(this.articleId)\r\n        }\r\n        // 主动的将状态取反\r\n        // this.isFollowed = !this.isFollowed\r\n        // this.$emit('updateFollow', !this.isFollowed) // 方法一 与 方法二 写法\r\n        // @input=\"article.is_followed = $event\"\r\n\r\n        this.$emit('update:attitude', status)\r\n      } catch (error) {\r\n        this.$toast('点赞不成功')\r\n      }\r\n      setTimeout(() => {\r\n        this.btnLoading = false // 请求执行后关闭\r\n      }, 1000)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.collected {\r\n  color: red;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LikeArticle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LikeArticle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LikeArticle.vue?vue&type=template&id=8a8a852a&scoped=true&\"\nimport script from \"./LikeArticle.vue?vue&type=script&lang=js&\"\nexport * from \"./LikeArticle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LikeArticle.vue?vue&type=style&index=0&id=8a8a852a&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8a8a852a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comment-list\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"error\":_vm.error,\"error-text\":\"请求失败,点击重新加载\"},on:{\"update:error\":function($event){_vm.error=$event},\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(commentItem,index){return _c('CommentItem',{key:index,attrs:{\"comment\":commentItem},on:{\"replyClick\":_vm.onReplyClick}})}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('van-cell',{staticClass:\"comment-item\",attrs:{\"title\":_vm.comment.content},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('van-image',{staticClass:\"avatar\",attrs:{\"round\":\"\",\"fit\":\"cover\",\"src\":_vm.comment.aut_photo}})]},proxy:true},{key:\"title\",fn:function(){return [_c('div',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.comment.aut_name))])]},proxy:true},{key:\"label\",fn:function(){return [_c('p',{staticClass:\"comment-content\"},[_vm._v(_vm._s(_vm.comment.content))]),_c('div',{staticClass:\"bottom-info\"},[_c('div',{staticClass:\"publish-date\"},[_vm._v(_vm._s(_vm._f(\"relativeTime\")(_vm.comment.pubdate)))]),_c('van-button',{staticClass:\"replay-btn\",attrs:{\"round\":\"\"},on:{\"click\":function($event){return _vm.$emit('replyClick', _vm.comment)}}},[_vm._v(\" 回复\"+_vm._s(_vm.comment.reply_count)+\" \")])],1)]},proxy:true},{key:\"right-icon\",fn:function(){return [_c('van-button',{staticClass:\"like-btn\",class:{ like: _vm.comment.is_liking },attrs:{\"icon\":_vm.comment.is_liking ? 'good-job' : 'good-job-o',\"loading\":_vm.btnLoading},on:{\"click\":_vm.onCommentLike}},[_vm._v(\" \"+_vm._s(_vm.comment.like_count || '赞')+\" \")])]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <van-cell class=\"comment-item\" :title=\"comment.content\">\r\n    <!--? 用户头像 -->\r\n    <template #icon>\r\n      <van-image\r\n        class=\"avatar\"\r\n        round\r\n        fit=\"cover\"\r\n        :src=\"comment.aut_photo\"\r\n      />\r\n    </template>\r\n\r\n    <!--? 用户名 -->\r\n    <template #title>\r\n      <div class=\"user-name\">{{ comment.aut_name }}</div>\r\n    </template>\r\n\r\n    <!--? 相对时间 -->\r\n    <template #label>\r\n      <p class=\"comment-content\">{{ comment.content }}</p>\r\n      <div class=\"bottom-info\">\r\n        <div class=\"publish-date\">{{ comment.pubdate | relativeTime }}</div>\r\n        <van-button\r\n          class=\"replay-btn\"\r\n          round\r\n          @click=\"$emit('replyClick', comment)\"\r\n        >\r\n        回复{{ comment.reply_count }}\r\n        </van-button>\r\n      </div>\r\n    </template>\r\n\r\n    <!--? 使用 right-icon 插槽来自定义右侧图标 -->\r\n    <template #right-icon>\r\n      <van-button\r\n        class=\"like-btn\"\r\n        :class=\"{ like: comment.is_liking }\"\r\n        :icon=\"comment.is_liking ? 'good-job' : 'good-job-o'\"\r\n        :loading=\"btnLoading\"\r\n        @click=\"onCommentLike\"\r\n      >\r\n      {{ comment.like_count || '赞' }}\r\n      </van-button>\r\n    </template>\r\n  </van-cell>\r\n</template>\r\n\r\n<script>\r\nimport { addCommentLikeAPI, deleteCommentLikeAPI } from '../../../api/index.js'\r\n\r\nexport default {\r\n  name: 'CommentItem',\r\n  props: {\r\n    comment: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      btnLoading: false,\r\n      commentClone: this.comment\r\n    }\r\n  },\r\n  methods: {\r\n    // 取关 点赞操作\r\n    async onCommentLike () {\r\n      this.btnLoading = true // 请求接口前开启\r\n      try {\r\n        // 通过当前的用户点赞状态来判断调用哪个接口\r\n        if (this.comment.is_liking) {\r\n          // 已点赞状态 要取消点赞\r\n          await deleteCommentLikeAPI(this.comment.com_id)\r\n          this.commentClone.like_count--\r\n        } else {\r\n          // 未点赞状态 要开启点赞\r\n          await addCommentLikeAPI(this.comment.com_id)\r\n          this.commentClone.like_count++\r\n        }\r\n        // 主动的将状态取反\r\n        this.commentClone.is_liking = !this.comment.is_liking\r\n      } catch (error) {\r\n        console.log(error)\r\n        this.$toast('操作失败,请重试')\r\n      }\r\n      setTimeout(() => {\r\n        this.btnLoading = false // 请求执行后关闭\r\n      }, 1000)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.comment-item {\r\n\r\n  .avatar {\r\n    width: 70px;\r\n    height: 70px;\r\n    margin-right: 26px;\r\n  }\r\n\r\n  .user-name {\r\n    color: #406599;\r\n    font-size: 26px;\r\n  }\r\n\r\n  .comment-content {\r\n    font-size: 32px;\r\n    color: #222222;\r\n    word-break: break-all;\r\n    text-align: justify;\r\n  }\r\n\r\n  .bottom-info {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    .publish-date {\r\n      font-size: 20px;\r\n      color: #222222;\r\n      margin-right: 26px;\r\n    }\r\n\r\n    .reply-btn {\r\n      width: 140px;\r\n      height: 140px;\r\n      font-size: 24px;\r\n      color: #222222;\r\n    }\r\n  }\r\n\r\n  .like-btn {\r\n    border: none;\r\n    height: 30px;\r\n    padding: 0;\r\n    font-size: 20px;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .like {\r\n    color: pink;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentItem.vue?vue&type=template&id=5ba7d4be&scoped=true&\"\nimport script from \"./CommentItem.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentItem.vue?vue&type=style&index=0&id=5ba7d4be&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ba7d4be\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"comment-list\">\r\n    <!--? 文章评论列表 -->\r\n    <van-list\r\n      v-model=\"loading\"\r\n      :finished=\"finished\"\r\n      finished-text=\"没有更多了\"\r\n      :error.sync=\"error\"\r\n      error-text=\"请求失败,点击重新加载\"\r\n      @load=\"onLoad\"\r\n    >\r\n      <!-- <van-cell v-for=\"(item,index) in list\" :key=\"index\" :title=\"item.content\" /> -->\r\n      <CommentItem\r\n        v-for=\"(commentItem,index) in list\"\r\n        :key=\"index\"\r\n        :comment=\"commentItem\"\r\n        @replyClick=\"onReplyClick\"\r\n      />\r\n      <!-- @replyClick=\"$('replyClick',$event)\"\r\n                        $event === comment\r\n      -->\r\n    </van-list>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getCommentsAPI } from '../../../api/index.js'\r\nimport CommentItem from './CommentItem.vue'\r\n\r\nexport default {\r\n  name: 'CommentList',\r\n  components: {\r\n    CommentItem\r\n  },\r\n  props: {\r\n    targetId: { // 父组件传入的id,可能是文章id 也可能是评论id\r\n      type: String,\r\n      default: ''\r\n    },\r\n    totalCount: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: 'a'\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      list: [],\r\n      loading: false,\r\n      finished: false,\r\n      error: false,\r\n      offset: null // 请求下页的页码 默认为null\r\n      // totalCount: 0 // 总数据条数\r\n    }\r\n  },\r\n  methods: {\r\n    onReplyClick (event) {\r\n      this.$emit('replyClick', event)\r\n    },\r\n\r\n    async onLoad () {\r\n      // 1. 请求接口数据\r\n      try {\r\n        const { data: res } = await getCommentsAPI({\r\n          type: this.type,\r\n          source: this.targetId, // 源id\r\n          offset: this.offset, // 页码\r\n          limit: 10 // 每页显示的数量\r\n        })\r\n        console.log(res)\r\n        // 2. 将数据添加到列表中\r\n        this.list.push(...res.data.results)\r\n        // 更新中数据条款\r\n        // this.totalCount = res.data.total_count\r\n        this.$emit('update:totalCount', res.data.total_count)\r\n        // 3. 将加载状态loading 改回false\r\n        this.loading = false\r\n        // 4. 判断是否有后续数据,对finished做一些操作\r\n        if (res.data.results.length) {\r\n          // 如果results中有数据, 那么获取下页的偏移量\r\n          this.offset = res.data.last_id\r\n        } else {\r\n          // 如果result中没有数据了\r\n          this.finished = true // 关闭加载\r\n        }\r\n      } catch (error) {\r\n        // console.log(error)\r\n        this.error = true\r\n        this.loading = false\r\n      }\r\n    },\r\n    // 将新的评论添加到评论数组的最顶端\r\n    unshiftComment (item) {\r\n      this.list.unshift(item.new_obj)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentList.vue?vue&type=template&id=02530119&scoped=true&\"\nimport script from \"./CommentList.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02530119\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comment-post\"},[_c('van-field',{staticClass:\"post-field\",attrs:{\"rows\":\"2\",\"autosize\":\"\",\"type\":\"textarea\",\"maxlength\":\"50\",\"placeholder\":\"优质评论将会被优先显示\",\"show-word-limit\":\"\"},model:{value:(_vm.message),callback:function ($$v) {_vm.message=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"message\"}}),_c('van-button',{staticClass:\"post-btn\",attrs:{\"size\":\"small\",\"disabled\":!_vm.message.length},on:{\"click\":_vm.onAddComment}},[_vm._v(\" 发布 \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comment-post\">\r\n    <van-field\r\n      class=\"post-field\"\r\n      v-model.trim=\"message\"\r\n      rows=\"2\"\r\n      autosize\r\n      type=\"textarea\"\r\n      maxlength=\"50\"\r\n      placeholder=\"优质评论将会被优先显示\"\r\n      show-word-limit\r\n    />\r\n\r\n    <van-button\r\n      class=\"post-btn\"\r\n      size=\"small\"\r\n      @click=\"onAddComment\"\r\n      :disabled=\"!message.length\"\r\n    >\r\n      发布\r\n    </van-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { addCommentAPI } from '../../../api/index.js'\r\nexport default {\r\n  name: 'CommentPost',\r\n  props: {\r\n    targetId: { // 文章id 或 评论id\r\n      type: String,\r\n      default: ''\r\n    },\r\n    articleId: { // 如果是回复评论,则需要传文章id进来\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      message: ''\r\n    }\r\n  },\r\n  methods: {\r\n    async onAddComment () {\r\n      try {\r\n        const messageTemp = this.message.trim()\r\n        // 非空判断\r\n        if (!messageTemp.length) return\r\n\r\n        const { data: res } = await addCommentAPI({\r\n          target: this.targetId, // 文章id 或 评论id\r\n          content: this.message, // 评论内容\r\n          art_id: this.articleId || null // 若target 是评论id时,该属性为文章id\r\n        })\r\n        /*\r\n          问题: 当我们回复评论时,没有去添加该id,但是评论回复列表中依然可以添加成功\r\n          => 1. 后端的代码并不严谨  2. 后端提供的接口文档中这个art_id是一个无用参数\r\n        */\r\n        console.log(res)\r\n        // 发布成功后 清空输入框内容\r\n        this.message = ''\r\n        // 关闭弹出层\r\n        this.$emit('post-success', res.data)\r\n        this.$toast.success('发布成功')\r\n      } catch (error) {\r\n        this.$toast.fail('发布失败')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.comment-post {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 32px 0 32px 32px;\r\n\r\n  .post-field {\r\n    background-color: #f5f6f7;\r\n  }\r\n\r\n  .post-btn {\r\n    width: 150px;\r\n    border: none;\r\n    padding: 0;\r\n    color: #6ba3d8;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentPost.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentPost.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentPost.vue?vue&type=template&id=3668b750&scoped=true&\"\nimport script from \"./CommentPost.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentPost.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentPost.vue?vue&type=style&index=0&id=3668b750&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3668b750\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comment-reply\"},[_c('van-nav-bar',{attrs:{\"title\":_vm.comment.reply_count > 0 ? `${_vm.comment.reply_count}条回复` : '暂无回复',\"left-arrow\":\"\",\"fixed\":\"\"},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"cross\"},on:{\"click\":function($event){return _vm.$emit('close')}}})]},proxy:true}])}),_c('div',{staticClass:\"scroll-wrap\"},[_c('CommentItem',{attrs:{\"comment\":_vm.comment}}),_c('van-cell',[_vm._v(\"全部回复\")]),_c('CommentList',{ref:\"CommentList\",attrs:{\"targetId\":_vm.comment.com_id,\"type\":\"c\"}})],1),_c('div',{staticClass:\"reply-bottom\"},[_c('van-button',{staticClass:\"reply-btn\",attrs:{\"round\":\"\",\"size\":\"small\"},on:{\"click\":function($event){_vm.isPostShow = true}}},[_vm._v(\" 写评论 \")])],1),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.isPostShow),callback:function ($$v) {_vm.isPostShow=$$v},expression:\"isPostShow\"}},[_c('CommentPost',{attrs:{\"targetId\":_vm.comment.com_id,\"articleId\":_vm.$route.params.articleId},on:{\"post-success\":_vm.onPostSuccess}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comment-reply\">\r\n    <!-- 头部导航 -->\r\n    <van-nav-bar\r\n      :title=\"comment.reply_count > 0 ? `${comment.reply_count}条回复` : '暂无回复' \"\r\n      left-arrow\r\n      fixed\r\n    >\r\n      <template #left>\r\n        <van-icon name=\"cross\" @click=\"$emit('close')\"/>\r\n      </template>\r\n    </van-nav-bar>\r\n\r\n    <!-- 内容区域 -->\r\n    <div class=\"scroll-wrap\">\r\n      <!-- 文章评论详情 -->\r\n      <CommentItem :comment=\"comment\"/>\r\n\r\n      <!-- 评论回复区域 -->\r\n      <van-cell>全部回复</van-cell>\r\n\r\n      <!-- 能否直接使用list列表组件， 可以1， 需要修改结构2  只需要修改数据的3 -->\r\n      <CommentList\r\n        ref=\"CommentList\"\r\n        :targetId=\"comment.com_id\"\r\n        type=\"c\"\r\n      />\r\n    </div>\r\n\r\n    <!-- 底部评论 -->\r\n    <div class=\"reply-bottom\">\r\n      <van-button\r\n        class=\"reply-btn\"\r\n        round\r\n        size=\"small\"\r\n        @click=\"isPostShow = true\"\r\n      >\r\n        写评论\r\n      </van-button>\r\n    </div>\r\n\r\n    <!-- 回复评论 -->\r\n    <van-popup v-model=\"isPostShow\" position=\"bottom\">\r\n      <CommentPost\r\n        :targetId=\"comment.com_id\"\r\n        @post-success=\"onPostSuccess\"\r\n        :articleId=\"$route.params.articleId\"\r\n      />\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CommentItem from './CommentItem.vue'\r\nimport CommentList from './CommentList.vue'\r\nimport CommentPost from './CommentPost.vue'\r\nexport default {\r\n  name: 'CommentReply',\r\n  components: {\r\n    CommentItem,\r\n    CommentList,\r\n    CommentPost\r\n  },\r\n  props: {\r\n    comment: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      commentClone: this.comment,\r\n      isPostShow: false // 写评论弹出层状态\r\n    }\r\n  },\r\n  methods: {\r\n    // 文章评论弹出层关闭操作\r\n    onPostSuccess (item) {\r\n      // 更新回复数量\r\n      this.commentClone.reply_count++\r\n\r\n      // 关闭写评论弹出层\r\n      this.isPostShow = false\r\n\r\n      // 通过ref去调用CommentList的方法将新的评价添加到列表的最顶端\r\n      this.$refs.CommentList.unshiftComment(item)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.comment-reply {\r\n  .van-nav-bar {\r\n    background-color: #ffffff;\r\n\r\n    :deep(.van-nav-bar__title) {\r\n      color: #000000;\r\n    }\r\n    .van-icon {\r\n      color: #3296fa;\r\n    }\r\n  }\r\n\r\n  .scroll-wrap {\r\n    padding-top: 92px;\r\n    padding-bottom: 88px;\r\n    overflow-y: auto;\r\n    background-color: #fff;\r\n  }\r\n\r\n  .reply-bottom {\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    height: 88px;\r\n    border-top: 1px solid #d8d8d8;\r\n    background-color: #fff;\r\n\r\n    .reply-btn {\r\n      width: 500px;\r\n      height: 60px;\r\n      font-size: 28px;\r\n      line-height: 46px;\r\n      border: 2px solid #eeeeee;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentReply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentReply.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentReply.vue?vue&type=template&id=22aacd83&scoped=true&\"\nimport script from \"./CommentReply.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentReply.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentReply.vue?vue&type=style&index=0&id=22aacd83&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22aacd83\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n<!--? 文章详情 - 这个组件以后是只能做路由跳转吗？他可不可能作为某个父组件的子组件嵌套展示在页面上？ -->\r\n<!--? 能否通过$route的形式作为子组件时获取 - 答：不能 -->\r\n<!--? 有没有可能 路由传参和 组件传参都用一种获取参数的方式来执行呢? 答: 开启props传参 -->\r\n  <div class=\"article-container\">\r\n    <!--? 文章详情 标题 fixed将头部导航脱离文档流显示到最顶端 -->\r\n    <van-nav-bar\r\n      title=\"黑马头条\"\r\n      left-arrow\r\n      @click-left=\"$router.back()\"\r\n      fixed\r\n    />\r\n\r\n    <!--? 正文滚动区域 -->\r\n    <div class=\"main-warp\">\r\n      <!--? 加载中 -->\r\n      <div class=\"loading-wrap\" v-if=\"loading\" >\r\n        <van-loading color=\"#1989fa\"  vertical>加载中。。。</van-loading>\r\n      </div>\r\n\r\n      <!--? 文章详情部分 -->\r\n      <div class=\"article-detail\" v-else-if=\"article.title\" >\r\n        <!--? 文章标题 -->\r\n        <h1 class=\"article-title\">{{article.title}}</h1>\r\n\r\n        <!--? 用户信息 -->\r\n        <van-cell class=\"user-info\">\r\n          <!--? 用户头像 -->\r\n          <template #icon>\r\n            <van-image\r\n              class=\"avatar\"\r\n              round\r\n              fit=\"cover\"\r\n              :src=\"article.aut_photo\"\r\n            />\r\n          </template>\r\n\r\n          <!--? 用户名 -->\r\n          <template #title>\r\n            <div class=\"user-name\">{{article.aut_name}}</div>\r\n          </template>\r\n\r\n          <!--? 相对时间 -->\r\n          <template #label>\r\n            <div class=\"publish-date\">{{article.pubdate | relativeTime}}</div>\r\n          </template>\r\n\r\n          <!--? 使用 right-icon 插槽来自定义右侧图标 -->\r\n          <template #right-icon>\r\n            <!--? 通过loading属性对按钮进行节流操作 -->\r\n            <!-- <van-button\r\n              v-if=\"article.is_followed\"\r\n              class=\"follow-btn\"\r\n              round type=\"info\"\r\n              size=\"small\"\r\n              icon=\"plus\"\r\n              @click=\"onFollow\"\r\n              :loading=\"btnLoading\"\r\n            >关注\r\n            </van-button>\r\n            <van-button\r\n              v-else\r\n              class=\"follow-btn\"\r\n              round size=\"small\"\r\n              @click=\"onFollow\"\r\n              :loading=\"btnLoading\"\r\n            >已关注\r\n            </van-button> -->\r\n\r\n            <!--? 父传子 方法一  => FollowUser -->\r\n            <!-- <FollowUser\r\n              :isFollowed=\"article.is_followed\"\r\n              :userId=\"article.aut_id\"\r\n              @updateFollow=\"onUpdateFollow\"\r\n            >\r\n            </FollowUser> -->\r\n\r\n            <!--?父传子 方法二  v-model完成双向绑定数据  => FollowUser -->\r\n            <!-- <FollowUser\r\n              :userId=\"article.aut_id\"\r\n              v-model=\"article.is_followed\"\r\n            >\r\n            </FollowUser> -->\r\n\r\n            <!--? 父传子 方法三  => FollowUser -->\r\n            <!--? 关注 -->\r\n            <FollowUser\r\n              :userId=\"article.aut_id\"\r\n              :isFollowed.sync = \"article.is_followed\"\r\n            >\r\n            </FollowUser>\r\n          </template>\r\n        </van-cell>\r\n\r\n        <!--? 文章内容 -->\r\n        <div ref=\"article-content\" class=\"article-content markdown-body\" v-html=\"article.content\"></div>\r\n        <van-divider>正文结束</van-divider>\r\n\r\n        <!--? 文章评论区域-->\r\n        <!--\r\n          ? 为什么使用articleId 而不是 article.art_id ?\r\n          ? 原因: article需要通过接口来获取数据,但是刚进入页面时就发出了CommentList组件中的loading方法,此时没有article.art_id 存在, 所以请求不到内容\r\n        -->\r\n        <CommentList\r\n          ref=\"CommentList\"\r\n          :targetId=\"articleId\"\r\n          :totalCount.sync=\"totalCommentCount\"\r\n          @replyClick=\"onReplyClick\"\r\n        />\r\n      </div>\r\n      <!--? 文章详情部分 -结束 -->\r\n\r\n      <!--? 加载失败 - 资源不存在 404 -->\r\n      <div class=\"error-wrap\" v-else-if=\"errStatus === 404\">\r\n        <van-icon name=\"failure\" />\r\n        <p class=\"text\">该资源不存在或已删除！</p>\r\n      </div>\r\n\r\n      <!--? 加载失败 - 其他内容 可点击重试 -->\r\n      <div class=\"error-wrap\" v-else>\r\n        <van-icon name=\"failure\" />\r\n        <p class=\"text\">内容加载失败！</p>\r\n        <!--? 直接调用获取详情接口的方法 -->\r\n        <van-button\r\n          class=\"retry-btn\"\r\n          @click=\"loadArticleInfo\"\r\n        >\r\n        点击重试</van-button>\r\n      </div>\r\n    </div>\r\n    <!--? 正文滚动结束 -->\r\n\r\n    <!--? 底部区域 -->\r\n    <div class=\"article-bottom\">\r\n      <van-button class=\"comment-btn\" round size=\"small\"  @click=\"isPostShow = true\">写评论</van-button>\r\n      <!--? 评论标记 -->\r\n      <van-icon name=\"comment-o\" :badge=\"totalCommentCount\" />\r\n      <!--? 收藏 -->\r\n      <CollectArticle\r\n        :articleId=\"article.art_id\"\r\n        v-model=\"article.is_collected\"\r\n      />\r\n      <!-- <van-icon name=\"star-o\"/> -->\r\n      <!--? 点赞 -->\r\n      <LikeArticle\r\n        :articleId=\"article.art_id\"\r\n        :attitude.sync=\"article.attitude\"\r\n      />\r\n      <!-- <van-icon name=\"good-job-o\" /> -->\r\n      <!--? 转发 -->\r\n      <van-icon name=\"share\" />\r\n    </div>\r\n\r\n      <!--? 文章评论块 -->\r\n      <van-popup v-model=\"isPostShow\" position=\"bottom\">\r\n        <CommentPost :targetId=\"article.aut_id\" @post-success=\"onPostSuccess\"/>\r\n      </van-popup>\r\n\r\n      <!--? 评论详情 - 回复评论 及 查看回复列表 -->\r\n      <van-popup v-model=\"isReplyShow\" position=\"bottom\" :style=\"{ height: '100%' }\">\r\n\r\n      <!--\r\n          ? 发现了一个问题： 在切换不同的评论弹出层时， 发现文章评论详情发生了变化，但是评论回复列表区域还是上一条的列表\r\n          ? van-popup弹出层组件，v-model特点\r\n          ? 初始状态下，v-model状态为false 弹出层内容不渲染\r\n          ? 当v-model变成true时， 弹出层渲染数据\r\n          ? 当在此关闭弹出层时，只是对css进行了控制和隐藏\r\n\r\n          ? 解决方案： 我们需要给评论回复弹出层组件添加一个v-if，来保证当弹出层关闭时，能够清除内部的所有dom元素，保证下次打开后回复列表可以正常请求列表接口\r\n        -->\r\n        <!--? 评论回复组件 -->\r\n        <CommentReply v-if=\"isReplyShow\" :comment=\"currentComment\" @close=\"isReplyShow = false\"/>\r\n      </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getArticleByIdAPI } from '../../api/index.js'\r\nimport FollowUser from '../../components/FollowUser.vue'\r\nimport CollectArticle from '../../components/CollectArticle.vue'\r\nimport LikeArticle from '../../components/LikeArticle.vue'\r\nimport CommentList from './components/CommentList.vue'\r\nimport CommentPost from './components/CommentPost.vue'\r\nimport CommentReply from './components/CommentReply.vue'\r\nimport { ImagePreview } from 'vant'\r\n\r\nexport default {\r\n  name: 'articleIndex',\r\n  components: {\r\n    FollowUser,\r\n    CollectArticle,\r\n    LikeArticle,\r\n    CommentList,\r\n    CommentPost,\r\n    CommentReply\r\n  },\r\n  props: {\r\n    articleId: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  /*\r\n    在vue项目中,往往会涉及到多层组件的嵌套传参,或者是一个参数需要传递个给多个组件\r\n    vue提供了一个父组件床底数据给它包含的所有子(后代)组件的方式\r\n    provide 一个函数(方法) 父组件通过该函数将数据发送\r\n    inject 在子组件中,作为一个属性(该属性的写法与props)完全相同),可一接收到provide传递过来的参数\r\n\r\n    注意事项: 如果provide传递的是一个引用数据类型,每个组件都可以修改它堆内存中的数据,但如果对该数据进行了修改,后期很难查找到修改源,所以在使用跟着provide和inject进行数据传递时,一定要遵守只读原则\r\n    如果说,自己不能保证你你用的数据不会被修改,请使用最基本的组件传参形式\r\n  */\r\n  data () {\r\n    return {\r\n      article: {}, // 文章详情\r\n      loading: true, // 加载中状态，页面渲染时自动开启，当接口请求完成时关闭该状态\r\n      errStatus: 0, // 如果发送报错，通过该变量来判断显示哪一个报错信息\r\n      // btnLoading: false // 关注按钮加载状态\r\n      totalCommentCount: 0, // 评论区评论总数\r\n      isPostShow: false, // 发布评论显示状态\r\n      isReplyShow: false, // 评论回复列表状态\r\n      currentComment: {} // 当前点击的评论内容 - 需要传给回复评论弹出层\r\n    }\r\n  },\r\n  created () {\r\n    // 获取文章详情\r\n    this.loadArticleInfo()\r\n  },\r\n  methods: {\r\n    async loadArticleInfo () {\r\n      this.loading = true // 请求前开启加载\r\n      try {\r\n        const { data: res } = await getArticleByIdAPI(this.articleId)\r\n        // const { data: res } = await getArticleByIdAPI(7817)\r\n        console.log(res)\r\n        this.article = res.data\r\n\r\n        // 请求数据成功,触发制作图片列表事件 - 操作dom元素 异步操作\r\n        setTimeout(() => {\r\n          this.previewImage()\r\n        }, 0)\r\n      } catch (error) {\r\n        // error.response.status 这是错误请求固定参数 - 错误编码code\r\n        if (error.response && error.response.status === 404) {\r\n          this.errStatus = 404\r\n        }\r\n        this.$toast('获取失败')\r\n      }\r\n\r\n      // 无论成功或者失败,都需要关闭加载状态\r\n      this.loading = false\r\n    },\r\n    /*\r\n    多图预览 代码解释\r\n    ImagePreview({\r\n      images: [ // 预览的图片合集，可以切换的张数\r\n        'https://img01.yzcdn.cn/vant/apple-1.jpg',\r\n        'https://img01.yzcdn.cn/vant/apple-2.jpg',\r\n      ],\r\n      startPosition: 1, // 当前第一次打开是的图片索引，从0开始计数\r\n      onClose () {} // 当退出大图预览时触发的事件方法\r\n    });\r\n    */\r\n    previewImage () {\r\n      // 1. 得到正文中所有的图片元素\r\n      // document.querySelectorAll('img') // body下面所有的img\r\n      const articleContent = this.$refs['article-content']// 找到父级元素\r\n      const images = articleContent.querySelectorAll('img')\r\n      // images是伪数组\r\n      console.log(images)\r\n      // 2. 创建一个处理后只有图片路径的真数组 - 给ImagePreview.images属性使用\r\n      /*\r\n        [...images] 将伪数组转化成真数组\r\n        .map(img => img.src) 将数组中的每一项变成url字符串\r\n      */\r\n      const imageList = [...images].map(img => img.src)\r\n      // 3. 给每一张图片绑定打开图片预览功能的点击事件\r\n      images.forEach((img, index) => {\r\n        img.onclick = () => {\r\n          ImagePreview({\r\n            images: imageList, // 预览的图片合集，可以切换的张数\r\n            startPosition: index // 当前第一次打开是的图片索引，从0开始计数\r\n          })\r\n        }\r\n      })\r\n    },\r\n\r\n    // 文章评论弹出层关闭操作\r\n    onPostSuccess (item) {\r\n      this.isPostShow = false\r\n\r\n      // 通过ref去调用CommentList的方法将新的评论添加到列表的最顶端\r\n      this.$refs.CommentList.unshiftComment(item)\r\n      console.log(item)\r\n    },\r\n    // 开启评论回复弹出层\r\n    onReplyClick (comment) {\r\n      // 赋值当前文章评论对象\r\n      this.currentComment = comment || {}\r\n      console.log(comment)\r\n      // 显示回复弹出层\r\n      this.isReplyShow = true\r\n    }\r\n\r\n    // 父传子 方案一需要的步骤\r\n    // onUpdateFollow (newFollowed) {\r\n    //   this.article.is_followed = newFollowed\r\n    // }\r\n\r\n    // // 取关 关注操作\r\n    // async onFollow () {\r\n    //   this.btnLoading = true // 请求接口牵开启\r\n    //   try {\r\n    //     // 通过当前的用户关注状态来判断调用哪个接口\r\n    //     if (this.article.is_followed) {\r\n    //       // 已关注状态 要取消关注\r\n    //       await deleteFollowAPI(this.article.aut_id)\r\n    //     } else {\r\n    //       // 未关注状态 要开启关注\r\n    //       await addFollowAPI(this.article.aut_id)\r\n    //     }\r\n    //     // 主动的将状态取反\r\n    //     this.article.is_followed = !this.article.is_followed\r\n    //   } catch (error) {\r\n    //     console.log(error)\r\n    //     if (error.response && error.response.status === 400) {\r\n    //       this.$toast('你不能关注你自己')\r\n    //     } else {\r\n    //       this.$toast('操作失败,请重试')\r\n    //     }\r\n    //   }\r\n    //   setTimeout(() => {\r\n    //     this.btnLoading = false // 请求执行后关闭\r\n    //   }, 1000)\r\n    // }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import './css/github-markdown.css';\r\n.article-container {\r\n\r\n  .main-warp {\r\n    padding-top: 92px;\r\n    padding-bottom: 88px;\r\n    overflow-y: auto;\r\n    background-color: #fff;\r\n  }\r\n\r\n  // 加载中样式表\r\n  .loading-wrap {\r\n    padding: 200px 32px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  // 正文部分\r\n  .article-detail {\r\n\r\n    .article-title {\r\n      font-size: 40px;\r\n      padding: 50px 32px;\r\n      margin: 0;\r\n      color: #3a3a3a;\r\n    }\r\n\r\n    .user-info {\r\n      padding: 0 32px;\r\n      .avatar {\r\n        width: 70px;\r\n        height: 70px;\r\n        margin-right: 12px;\r\n      }\r\n\r\n      .user-name {\r\n        font-size: 24px;\r\n        color: #3a3a3a;\r\n      }\r\n\r\n      .van-cell__label {\r\n        margin: 0;\r\n\r\n        .publish-date {\r\n          font-size: 24px;\r\n          color: #b7b7b7;\r\n        }\r\n      }\r\n\r\n      .follow-btn {\r\n        width: 180px;\r\n        height: 58px;\r\n      }\r\n    }\r\n\r\n    .article-content {\r\n      padding: 50px 32px;\r\n    }\r\n  }\r\n\r\n  .error-wrap {\r\n    padding: 200px 32px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n\r\n    .van-icon {\r\n      font-size: 130px;\r\n      color: #b4b4b4;\r\n    }\r\n\r\n    .text {\r\n      font-size: 34px;\r\n      color: #666;\r\n      margin: 32px 0 64px;\r\n    }\r\n\r\n    .retry-btn {\r\n      width: 280px;\r\n      height: 70px;\r\n      line-height: 70px;\r\n      border: 1px solid #c3c3c3;\r\n      font-size: 34px;\r\n      color: #666;\r\n    }\r\n  }\r\n\r\n  // 底部区域样式\r\n  .article-bottom {\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    bottom:0;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    height: 88px;\r\n    border-top: 1px solid #d8d8d8;\r\n    background-color: #fff;\r\n\r\n    .comment-btn {\r\n      width: 280px;\r\n      height: 46px;\r\n      line-height: 46px;\r\n      border: 2px solid #eee;\r\n      color: #a7a7a7;\r\n    }\r\n\r\n    .van-icon {\r\n      font-size: 40px;\r\n      .van-info {\r\n        font-size: 16px;\r\n        background-color: #e22829;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Article.vue?vue&type=template&id=50a4f4ce&scoped=true&\"\nimport script from \"./Article.vue?vue&type=script&lang=js&\"\nexport * from \"./Article.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Article.vue?vue&type=style&index=0&id=50a4f4ce&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50a4f4ce\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","$router","back","loading","_v","article","title","_s","scopedSlots","_u","key","fn","aut_photo","proxy","aut_name","_f","pubdate","aut_id","is_followed","$set","ref","domProps","content","articleId","totalCommentCount","onReplyClick","errStatus","loadArticleInfo","isPostShow","art_id","model","value","is_collected","callback","$$v","expression","attitude","onPostSuccess","style","height","isReplyShow","currentComment","_e","staticRenderFns","isFollowed","btnLoading","onFollow","name","props","type","default","userId","data","methods","console","setTimeout","component","class","collected","onCollect","status","finished","error","onLoad","_l","list","commentItem","index","comment","$emit","reply_count","like","is_liking","onCommentLike","like_count","commentClone","components","CommentItem","targetId","totalCount","offset","source","limit","unshiftComment","message","trim","length","onAddComment","target","com_id","$route","params","CommentList","CommentPost","FollowUser","CollectArticle","LikeArticle","CommentReply","created","previewImage","images","img","ImagePreview","startPosition"],"sourceRoot":""}